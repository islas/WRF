{
  "submit_options" :
  {
    "queue"     : "economy",
    "timelimit" : "01:00:00",
    "cheyenne"  :
    {
      "submission" : "PBS",
      "resources"  : "1:ncpus=8",
      "arguments"  : 
      {
        "global_modules" : [ "cmake/3.22.0" ]
      }
    },
    "wsl" :
    {
      "submission" : "LOCAL"
    }
  },
  "gnu-nompi" :
  {
    "submit_options" : { "cheyenne" : { "arguments" : { "test_modules" : [ "gnu", "netcdf" ] } } },
    "steps" :
    {
      "serial" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "32", "-b", "em_real -j 8" ]
      },
      "sm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "33", "-b", "em_real -j 8" ],
        "dependencies" : { "serial" : "afterany" }
      }
    }
  },
  "gnu-mpi" :
  {
    "submit_options" : { "cheyenne" : { "arguments" : { "test_modules" : [ "gnu", "mpt", "netcdf" ] } } },
    "steps" :
    {
      "dm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "34", "-b", "em_real -j 8" ]
      },
      "dm+sm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "35", "-b", "em_real -j 8" ],
        "dependencies" : { "dm" : "afterany" }
      }
    }
  },
  "intel-nompi" :
  {
    "submit_options" : { "cheyenne" : { "timelimit" : "01:30:00", "arguments" : { "test_modules" : [ "intel", "netcdf" ] } } },
    "steps" :
    {
      "serial" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "13", "-b", "em_real -j 8" ]
      },
      "sm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "14", "-b", "em_real -j 8" ],
        "dependencies" : { "serial" : "afterany" }
      }
    }
  },
  "intel-mpi" :
  {
    "submit_options" : { "cheyenne" : { "timelimit" : "01:30:00", "arguments" : { "test_modules" : [ "intel", "mpt", "netcdf" ] } } },
    "steps" :
    {
      "dm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "15", "-b", "em_real -j 8" ]
      },
      "dm+sm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "16", "-b", "em_real -j 8" ],
        "dependencies" : { "dm" : "afterany" }
      }
    }
  },
  "pgi-nompi" :
  {
    "submit_options" : { "cheyenne" : { "arguments" : { "test_modules" : [ "pgi", "netcdf" ] } } },
    "steps" :
    {
      "serial" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "5", "-b", "em_real -j 8" ]
      },
      "sm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "6", "-b", "em_real -j 8" ],
        "dependencies" : { "serial" : "afterany" }
      }
    }
  },
  "pgi-mpi" :
  {
    "submit_options" : { "cheyenne" : { "arguments" : { "test_modules" : [ "pgi", "mpt", "netcdf" ] } } },
    "steps" :
    {
      "dm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "7", "-b", "em_real -j 8" ]
      },
      "dm+sm" :
      {
        "command"      : ".ci/tests/build.sh",
        "arguments"    : [ "-c", "8", "-b", "em_real -j 8" ],
        "dependencies" : { "dm" : "afterany" }
      }
    }
  }
}